<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <meta name="format-detection" content="telephone=no">
  <title>청주여기_관광택시 메시지화면</title>
  <link rel="stylesheet" href="../vuejs/src/assets/css/reset.css">
  <link rel="stylesheet" href="../vuejs/src/assets/css/content.css">
  <style>
    body {background-color: #000;}
    #wrap {max-width: 500px; margin: 0 auto;}
    #header,
    .chatbotInputBox,
    .chatbotInfo,
    .pgBottomBox--fixed {max-width: 500px;}
  </style>
</head>

<body>
  <div id="wrap" class="">
    <header id="header" class="header">
      <button type="button" class="btnBack btnBack--bl"><span class="blind">뒤로가기</span></button>
      <h1 class="pgTitle">메시지</h1>
      <select name="" id="" class="langBtn">
        <option>한국어</option>
        <option>영어</option>
        <option>중국어</option>
        <option>일본어</option>
      </select>
    </header>
    <div id="container">
      <!-- 메신저 -->
      <div class="popChat">
        <div class="align">
          <div class="popChat__container">
            <div class="chatbot">
              <ul class="chatBox">
                <li class="chatbot__date">
                  <span class="date__text">2023.09.11</span>
                </li>
                <!-- 메시지가 짧은경우 -->
                <li class="myMessage">
                  <div class="myMessage__data">
                    <span class="myMessage__time">오후 00:00</span>
                    <p class="myMessage__text">
                      Why is it so late?
                    </p>
                  </div>
                </li>
                <!-- 메시지가 긴경우 -->
                <li class="myMessage">
                  <div class="myMessage__data">
                    <span class="myMessage__time">오후 3:35</span>
                    <p class="myMessage__text">
                      Why is it so late? Why is it so late? Why is it so late? Why is it so late?
                      Why is it so late? Why is it so late? Why is it so late? Why is it so late?
                    </p>
                  </div>
                </li>
                <!-- 메시지가 같은 시간에 보내진 경우 -->
                <li class="myMessage">
                  <div class="myMessage__data">
                    <p class="myMessage__text">
                      Why is it so late?
                    </p>
                  </div>
                  <div class="myMessage__data">
                    <span class="myMessage__time">오후 3:35</span>
                    <p class="myMessage__text">
                      Why is it so late?
                    </p>
                  </div>
                </li>
    
                <li class="chatbot__date">
                  <span class="date__text">2023.09.11</span>
                </li>
    
                <!-- 메시지 답변일 경우 클래스명 myMessage--answer 추가 -->
                <li class="myMessage myMessage--answer">
                  <div class="answerPf">
                    <div class="imgBoxWrap">
                      <div class="boxPf">
                        <img src="https://cdn.pixabay.com/photo/2016/11/18/19/07/happy-1836445__340.jpg">
                      </div>
                    </div>
                    <span class="name">홍길동</span>
                  </div>
                  <div class="myMessage__data">
                    <span class="myMessage__time">오후 3:35</span>
                    <p class="myMessage__text">
                      미안해요. 차가 막혀서 늦어요.
                      <span class="myMessage__text--lang">
                        Sorry. I'm late because of traffic.
                      </span>
                    </p>
                  </div>
                </li>
                <!-- 메시지가 긴경우 답변 -->
                <li class="myMessage myMessage--answer">
                  <div class="answerPf">
                    <div class="imgBoxWrap">
                      <div class="boxPf">
                        <img src="https://cdn.pixabay.com/photo/2016/11/18/19/07/happy-1836445__340.jpg">
                      </div>
                    </div>
                    <span class="name">홍길동</span>
                  </div>
                  <div class="myMessage__data">
                    <span class="myMessage__time">오후 3:35</span>
                    <p class="myMessage__text">
                      미안해요. 차가 막혀서 늦어요. 미안해요. 차가 막혀서 늦어요. 미안해요. 차가 막혀서 늦어요.
                      <span class="myMessage__text--lang">
                        Sorry. I'm late because of traffic. Sorry. I'm late because of traffic. Sorry. I'm late because of
                        traffic.
                      </span>
                    </p>
                  </div>
                </li>
                <!-- 메시지가 같은 시간에 보내진 경우 답변 -->
                <li class="myMessage myMessage--answer">
                  <div class="answerPf">
                    <div class="imgBoxWrap">
                      <div class="boxPf">
                        <img src="https://cdn.pixabay.com/photo/2016/11/18/19/07/happy-1836445__340.jpg">
                      </div>
                    </div>
                    <span class="name">홍길동</span>
                  </div>
                  <div class="myMessage__data">
                    <p class="myMessage__text">
                      미안해요. 차가 막혀서 늦어요.
                      <span class="myMessage__text--lang">
                        Sorry. I'm late because of traffic.
                      </span>
                    </p>
                  </div>
                  <div class="myMessage__data">
                    <span class="myMessage__time">오후 3:35</span>
                    <p class="myMessage__text">
                      미안해요. 차가 막혀서 늦어요.
                      <span class="myMessage__text--lang">
                        Sorry. I'm late because of traffic.
                      </span>
                    </p>
                  </div>
                </li>
              </ul>
  
            </div>
          </div>
          <div class="popChat__footer">
            <div class="popChat__inputBox">
              <div class="chatTextarea">
                <textarea id="" name="" class="inp chatbotInput" placeholder="메세지를 입력하세요." 
                oninput="this.style.height = ''; this.style.height = this.scrollHeight + 'px';" 
                style="max-height: 100px; overflow: hidden;"></textarea>
              </div>
              <input type="submit" class="chatbotSubmit" value="전송">
            </div>
            <button class="btnClose"><span class="blind">닫기</span></button>
          </div>
        </div>
      </div>
      <!-- //메신저 -->
    </div>
  </div>

  <script>
    // 입력창 높이에 따른 높이 변화
    window.onload = function () {
        var popChat = document.querySelector(".popChat");
        var chatbot = document.querySelector(".chatbot");
        var popChat__inputBox = document.querySelector(".popChat__inputBox");
        var chatTextarea = document.querySelector(".chatTextarea");
    
        function updateChatBoxHeight() {
            var popChatHeight = popChat.offsetHeight;
            var popChat__inputBoxHeight = popChat__inputBox.offsetHeight;
            var chatbotHeight = popChatHeight - popChat__inputBoxHeight;
            chatbot.style.height = chatbotHeight + "px";
            // chatbot.scrollTo({ top: chatbot.scrollHeight});
        }
        updateChatBoxHeight();
        
        window.addEventListener("resize", updateChatBoxHeight);
        chatTextarea.onkeyup = updateChatBoxHeight;
    };
    </script>
</body>

</html>